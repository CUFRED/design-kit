# Background
Architizer has multiple award programs which are hosted on Openwater platform (migrated from Recognition Media late 2020):
### Awards
Hosted in Openwater Awards instance [architizerawards](https://architizerawards.secure-platform.com/a/admin/Account/Login).
- [A+Awards](https://architizerawards.secure-platform.com/)
- [A+Firm Awards](https://architizerfirmawards.secure-platform.com/)
- A+Project Awards _coming soon_
- A+Product Awards _coming soon_
### Competitions
Hosted in Openwater Competitions instance [architizer](https://architizer.secure-platform.com/a/admin/Account/Login).
- [One Photo Challenge](https://onephotochallenge.secure-platform.com/a)
- [One Drawing Challenge](https://onedrawingchallenge.secure-platform.com/a)
- [One Rendering Challenge](https://onerenderingchallenge.secure-platform.com/a)
- [Best of LaCantina](https://bestoflacantina.secure-platform.com/a)

# Openwater Customizations
## Header
Header in Openwater is customized to include Architzer universal header and the program header that gets generated by Openwater, the header source can be used for all programs, but the banner section needs to be customized for each one.

Source code can be found in `openwater/header.html` and needs to be injected in [Openwater's theme > `Header`](https://architizerawards.secure-platform.com/a/admin/organizations/main/publicthemes) section.

## Footer
Architizer universal footer is used.

Source code can be found in `openwater/footer.html` and needs to be injected in [Openwater's theme > `Footer`](https://architizerawards.secure-platform.com/a/admin/organizations/main/publicthemes) section.

## Stylesheets and Scripts
Openwater uses a very basic theme by default for each program which is different from Architizer aesthetics, so a custom theme needs to be created within Openwater for each program and inject the special stylesheets and scripts bellow to update the style and manipulate the needed DOM elements:

| File | Source Code | Description |
| ---- | ----------- | ----------- | 
| [adk.css](https://design-kit.arc.ht/css/adk.css) | `scss/adk.scss` | Design kit style which is used in specific areas to quickly build custom content and follow Architizer style i.e. [homepage](https://architizerawards.secure-platform.com/a/admin/organizations/main/publicwebsites/details/2#menuAndPages) |
| [ow.css](https://design-kit.arc.ht/css/ow.css) | `scss/ow.scss` | Customize and override Openwater default style globally to match Architizer aesthetics |
| [ow.js](https://design-kit.arc.ht/js/ow.js) | `js/ow.js` | Populate custom content, handle menu responsiveness, and manipulate Openwater DOM elements |

The above files are deployed to [design-kit.arc.ht](https://s3.console.aws.amazon.com/s3/buckets/design-kit.arc.ht/?region=us-east-1) bucket and used in Head Scripts (`openwater/head-scripts.html`) section inside Openwater's theme configurations i.e. [A+Firm Awards Theme](https://architizerawards.secure-platform.com/a/admin/organizations/main/publicthemes#edit/4).

## Custom Pages
| Page | Source Code | Description |
| ---- | ----------- | ----------- |
| Homepage | Can be found in each program directory within `openwater` directory | Custom homepage with Architizer SSO authentication and program related content that follows `adk` style |

## User Profile
SSO (Single Sign On) is enabled on Openwater to allow users to authenticate using Architizer authentication (login and registration).
 
 While Openwater allows this behaviour, it uses an internal user accounts that are different from Architizer's which lead to an issue in [`My Profile`](https://architizerfirmawards.secure-platform.com/a/organizations/main/users/myprofile?backUrl=%2Fa%2Forganizations%2Fmain%2Fhome) page allowing users to edit their Openwater data rather than Architier's, `openwater/user-profile.js` is created and injected manually in [System Settings/User Profile/Developer Settings/Scripts(JS/CSS)/Javascript](https://architizerawards.secure-platform.com/a/admin/organizations/main/userprofileformtemplate/developersettings#contentSettings) for each Openwater instance to prevent this behaviour and redirect users from `My Profile` page to Architizer user details page to edit their information there and once they are done, they will be redirected back to Openwater with their data updated through SSO.

# Deployment
`Stylesheets and Scripts` are deployed to [design-kit.arc.ht](https://s3.console.aws.amazon.com/s3/buckets/design-kit.arc.ht/?region=us-east-1) bucket.

Other files are handled manually within Openwater configurations, please keep them synced with this repo.  
