// Scale and Spacing Variables
// 1.25 Scale: Major Third (some intervals skip steps)
// ---------

//Power function to allow for skipping parts of the scale
@function pow($number, $exponent) {
  $value: 1;

  @if $exponent > 0 {
    @for $i from 1 through $exponent {
      $value: $value * $number;
    }
  }

  @return $value;
}

$scale: 1.25;

$space: 1rem;
$space-m: $space*$scale; // 1.25rem;
$space-l: $space-m*$scale; // 1.563rem;
$space-xl: $space-l*$scale; // 1.953rem;
$space-xxl: $space-xl*$scale; // 2.441rem;
$space-xxxl: $space-xxl*$scale; // 3.05rem;
$space-s: $space/$scale; // 0.8rem;
$space-xs: $space-s/pow($scale, 2); // 0.512rem;
$space-xxs: $space-xs/pow($scale, 2); // 0.328rem;
$space-xxxs: $space-xxs/pow($scale, 2); // 0.21rem;
$space-micro: $space-xxxs/pow($scale, 2); // 0.134rem;

$sizes: 0 micro xxxs xxs xs s m l xl xxl xxxl;
$spaces: 0 $space-micro $space-xxxs $space-xxs $space-xs $space-s $space-m $space-l $space-xl $space-xxl $space-xxxl;

// Margins
// To add more classes, multiply by the scale or use the power function like above
// ---------

// Spacing Utility Classes
$property-var: m p;
$property: margin padding;
$sides-var: t b r l;
$sides: top bottom right left;

// First ceate margin and padding for 1rem then loop through all other space names and create their classes
@for $i from 1 through 4 {
  @for $prop from 1 through 2 {
    .#{nth($property, $prop)} {
      #{nth($property, $prop)}: $space !important;
    }
    .#{nth($property-var, $prop)}#{nth($sides-var, $i)} {
      #{nth($property, $prop)}-#{nth($sides, $i)}: $space !important;
    }
    @each $name in $spaces{
      $size-index: index($spaces, $name);
      .#{nth($property-var, $prop)}#{nth($sides-var, $i)}-#{nth($sizes, $size-index)} {
        #{nth($property, $prop)}-#{nth($sides, $i)}: $name !important;
      }
      .#{nth($property-var, $prop)}-#{nth($sizes, $size-index)} {
        #{nth($property, $prop)}: $name !important;
      }
    }
  }
}

// The above generates margin and padding spacing classes using tshirt sizes
// For example, to add large padding top to an element, simply add the .pt-l class to it. Micro margin bottom would be .mb-micro, and so on.