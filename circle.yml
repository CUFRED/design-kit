general:
  build_dir: .
  artifacts:
    - "css" # Compiled app.css file

dependencies:
  pre:
    - npm install -g bower gulp
  override:
    - bower install
    - npm install
    - gulp sass
    - gulp sherpa

test:
  override:
    - echo 'No Tests'

deployment:
  design-kit.arc.ht:
    branch: master
    commands:
      - aws s3 sync css s3://design-kit.arc.ht/css/ --delete
      - aws s3 sync js s3://design-kit.arc.ht/js/ --delete
      - aws s3 sync fonts s3://design-kit.arc.ht/fonts/ --delete
      - aws s3 sync assets s3://design-kit.arc.ht/assets/ --delete
      - aws s3 sync . s3://design-kit.arc.ht/ --exclude "*" --include "*.html"

experimental:
  notify:
    branches:
      only:
        - master